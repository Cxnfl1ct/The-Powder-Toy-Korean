Based on The Powder Toy, Snapshot-361.
- Updated TPT code.
