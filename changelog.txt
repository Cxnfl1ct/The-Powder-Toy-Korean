Based on The Powder Toy, Snapshot-252
- Updated TPT code.
